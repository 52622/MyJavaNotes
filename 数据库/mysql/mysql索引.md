B-tree

M阶

```shell
1） 根结点的孩子数>=2(前提是树高度大于1)
2） 除根结点与叶子结点，其他结点的孩子数为[ceil(m/2),m]个。ceil函数表示上取整数
3） 所有叶子结点都出现在同一层，叶子结点不存储数据。
4） 各个结点包含n个关键字信息：(P0,K1,P1,K2,P2......Kn,Pn)
      其中：
        4.1) Ki(i=1,2......n)为关键字，且K(i-1)<Ki，即从小到大排序
        4.2) 关键字的个数n必须满足：[ceil(m/2)-1,m-1]
        4.3) Pi指向子树，且指针P(i-1)所指向的子树结点中所有关键字均小于Ki。即：父结点中任何关键字的左孩子都小于它，右孩子大于它。
```

插入

```shell
1）插入新元素，如果叶子结点空间足够，则插入其中，遵循从小到大排序；
2）如果该结点空间满了，进行分裂。将该结点中一半关键字分裂到新结点中，中间关键字上移到父结点中。
```

删除

```shell
1）查找B-tree中需删除的元素,如果该元素在B-tree中存在，则将该元素在其结点中进行删除。
2）删除该元素后，判断该元素是否有左右孩子结点，如果有，则上移孩子结点中的相近元素到父节点中（相近元素指的是：刚被删除元素的相邻后继元素，比如删除D，相近元素就是F等）
3）然后接着判断：如果结点中元素个数小于ceil(m/2)-1，首先找其相邻兄弟结点元素是否足够（结点中元素个数大于ceil(m/2)-1），如果足够，向父节点借一个元素，同时将借的元素的孩子结点中相邻后继元素上移到父结点中；
   如果其相邻兄弟都不够，即借完之后其结点元素个数小于ceil(m/2)-1，那进行合并，具体是：将父结点中元素下移到要合并结点中（该元素一般是位于两个合并结点的中间元素），然后进行合并。
4）以上操作按顺序进行递归执行
```



B+Tree 

```shell
1） 非叶子结点的子树指针与关键字个数相同；
2） B+树父结点中的记录，存储的是下层子树中的最小值；
3） 所有叶子结点通过一个链指针相连；
4） 所有关键字都在叶子结点出现；
```

Innodb引擎索引 

叶节点包含了完整的数据记录，像这种索引叫做聚集索引 

如果没有显式指定，则MySQL会优先自动选择一个可以唯一标识数据记录的列作为主键，比如唯一索引列，如果不存在这种列，则MySQL自动为InnoDB表生成一个隐含字段作为主键，长度为6个字节，类型为longint 



辅助索引 

非叶子结点保存的是索引值，字段。叶子结点保存的不再是数据记录了，而是主键值 

```shell
MySQL聚集索引使得按主键的搜索非常高效的。
辅助索引需要搜索两遍索引：
          第一：检索辅助索引获得主键值
          第二：用主键值到主键索引中检索获得记录
```









































































深入浅出分析MySQL索引设计背后的数据结构

https://www.cnblogs.com/mysql-dba/p/6689597.html

MySQL索引背后的数据结构及算法原理

https://www.cnblogs.com/sanwenyu/p/6129082.html

面试题

https://github.com/Snailclimb/JavaGuide/blob/master/docs/database/MySQL%20Index.md

